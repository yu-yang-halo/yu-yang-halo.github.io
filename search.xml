<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Bitmap在Intent中传递的问题]]></title>
      <url>https://yu-yang-halo.github.io/2016/08/29/andorid-s-1/</url>
      <content type="html"><![CDATA[<h5 id="JavaBinder-FAILED-BINDER-TRANSACTION-Bitmap太大无法在Intent中传递"><a href="#JavaBinder-FAILED-BINDER-TRANSACTION-Bitmap太大无法在Intent中传递" class="headerlink" title="JavaBinder: !!! FAILED BINDER TRANSACTION !!! Bitmap太大无法在Intent中传递"></a>JavaBinder: !!! FAILED BINDER TRANSACTION !!! Bitmap太大无法在Intent中传递</h5><p>一般的解决办法是对Bitmap进行缩放<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 对于网络下载转化的bitmap只能使用Bitmap自带的转化方法</span></div><div class="line">Bitmap.createScaledBitmap(bitmap,w,h,<span class="keyword">true</span>);<span class="comment">//这种方式会带来很多意想不到的bug，建议使用画布canvas来缩放</span></div><div class="line">或者</div><div class="line">BitmapFactory.Options opts = <span class="keyword">new</span> BitmapFactory.Options();</div><div class="line"><span class="comment">// 设置为ture只获取图片大小</span></div><div class="line">opts.inJustDecodeBounds = <span class="keyword">true</span>;</div><div class="line">opts.inPreferredConfig = Bitmap.Config.ALPHA_8;</div><div class="line"><span class="comment">// 返回为空</span></div><div class="line">BitmapFactory.decodeFile(path, opts);</div><div class="line">opts.inSampleSize = getScaleSize(opts,w,h);</div><div class="line"><span class="comment">// 加载到内存</span></div><div class="line">opts.inJustDecodeBounds = <span class="keyword">false</span>;</div><div class="line">Bitmap bm= BitmapFactory.decodeFile(path, opts);</div></pre></td></tr></table></figure></p>
<p>另外的解决方式就是缓存(只说明一下解决思路)</p>
<p>本地缓存<br>在跳转Intent之前，将Bitmap缓存到到本地文件中，然后再取出来。</p>
<p>内存缓存<br>使用单例模式的方式缓存（不建议）</p>
<h5 id="Bitmap-createScaledBitmap使用注意"><a href="#Bitmap-createScaledBitmap使用注意" class="headerlink" title="Bitmap.createScaledBitmap使用注意"></a>Bitmap.createScaledBitmap使用注意</h5><p>Bitmap.createScaledBitmap 该方法会创建一个新的Bitmap，而且不会按照比例拉伸<br>它直接会按照你输入的Width和Height输出,这样的输出会导致</p>
<p>总结一下如何解决Intent传输Bitmap crash或者无法传递的问题<br>1.Bitmap缩小使用Canvas来缩放<br>2.如果Bitmap本身很小就无需缩放，否则会导致很奇怪的crash</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Cell animation stop fraction must be greater than start fraction]]></title>
      <url>https://yu-yang-halo.github.io/2016/08/26/hello-world/</url>
      <content type="html"><![CDATA[<h3 id="Cell-animation-stop-fraction-must-be-greater-than-start-fraction-问题"><a href="#Cell-animation-stop-fraction-must-be-greater-than-start-fraction-问题" class="headerlink" title="Cell animation stop fraction must be greater than start fraction 问题"></a>Cell animation stop fraction must be greater than start fraction 问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">-(CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section &#123;</div><div class="line">   //return 0.001f;设置大于0的数导致的crash</div><div class="line">   return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="可以解决crash的bug-这应该是苹果本身的一个bug，mark一下"><a href="#可以解决crash的bug-这应该是苹果本身的一个bug，mark一下" class="headerlink" title="可以解决crash的bug,这应该是苹果本身的一个bug，mark一下"></a>可以解决crash的bug,这应该是苹果本身的一个bug，mark一下</h4>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Android源代码编译]]></title>
      <url>https://yu-yang-halo.github.io/2016/08/24/android-s-0/</url>
      <content type="html"><![CDATA[<h1 id="Android源码下载及编译"><a href="#Android源码下载及编译" class="headerlink" title="Android源码下载及编译"></a>Android源码下载及编译</h1><p>使用科大镜像（国内无法直接访问google）</p>
<p>首先下载 repo 工具<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mkdir ~/bin</div><div class="line">PATH=~/bin:<span class="variable">$PATH</span></div><div class="line">curl https://storage-googleapis.lug.ustc.edu.cn/git-repo-downloads/repo &gt; ~/bin/repo</div><div class="line">chmod a+x ~/bin/repo</div></pre></td></tr></table></figure></p>
<p>然后建立一个工作目录（名字任意）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir AndroidSource</div><div class="line"><span class="built_in">cd</span> AndroidSource</div></pre></td></tr></table></figure></p>
<p>初始化仓库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">repo init -u git://mirrors.ustc.edu.cn/aosp/platform/manifest</div><div class="line"><span class="comment">## 如果提示无法连接到 gerrit.googlesource.com，可以编辑 ~/bin/repo，把 REPO_URL 一行替换成下面的：</span></div><div class="line"><span class="comment">## REPO_URL = 'https://gerrit-googlesource.lug.ustc.edu.cn/git-repo'</span></div></pre></td></tr></table></figure>
<p>下载特定的android源码版本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">repo init -u git://mirrors.ustc.edu.cn/aosp/platform/manifest -b android-4.0.1_r1</div></pre></td></tr></table></figure></p>
<p>同步源码树<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">repo sync</div></pre></td></tr></table></figure></p>
<p>可能需要漫长的等待android源码的下载</p>
<p>源码下载完成后，开始编译android源码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">source</span> build/envset.sh</div><div class="line">lunch full-eng</div><div class="line">make</div></pre></td></tr></table></figure></p>
<p>简单的三步即可完成源码的编译</p>
]]></content>
    </entry>
    
  
  
</search>
